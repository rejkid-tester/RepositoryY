<div class="card shadow-lg border-0" style="border-radius: 16px; overflow: hidden;">
    <div class="card-header text-center text-white" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 2rem; border: none;">
        <div style="font-size: 3rem; margin-bottom: 0.5rem;">🔐</div>
        <h3 class="mb-1" style="font-weight: 600; font-size: 1.75rem;">Forgot Password?</h3>
        <p class="mb-0" style="font-size: 0.9rem; opacity: 0.9;">No worries, we'll send you reset instructions</p>
    </div>
    <div class="card-body" style="padding: 2.5rem;">
        <form [formGroup]="form" (ngSubmit)="onSubmit()">
            <div class="mb-4">
                <label class="form-label fw-semibold" style="color: #495057;">Email Address</label>
                <div class="input-group">
                    <span class="input-group-text bg-light border-end-0" style="border-radius: 8px 0 0 8px;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-envelope" viewBox="0 0 16 16">
                            <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1zm13 2.383-4.708 2.825L15 11.105zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741M1 11.105l4.708-2.897L1 5.383z"/>
                        </svg>
                    </span>
                    <input type="email" formControlName="email" class="form-control border-start-0" 
                           [ngClass]="{ 'is-invalid': submitted && f['email'].errors }" 
                           placeholder="name@example.com"
                           style="border-radius: 0 8px 8px 0; padding: 0.75rem;" />
                    @if (submitted && f['email'].errors) {
                        <div class="invalid-feedback">
                            @if (f['email'].errors['required']) {
                                <div>📧 Email is required</div>
                            }
                            @if (f['email'].errors['email']) {
                                <div>❌ Please enter a valid email</div>
                            }
                        </div>
                    }
                </div>
            </div>

            <div class="mb-4">
                <mat-form-field appearance="outline" class="w-100" style="font-size: 1rem;">
                    <mat-label>Date of Birth</mat-label>
                    <input formControlName="dob" #ref matInput [matDatepicker]="picker" 
                           placeholder="Select your date of birth" required>
                    <mat-hint style="font-size: 0.85rem;">Format: {{DATE_FORMAT}}</mat-hint>
                    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                    @if (submitted && f['dob'].errors) {
                        <mat-error>📅 Date of birth is required for verification</mat-error>
                    }
                </mat-form-field>
            </div>

            <div class="d-grid gap-3 mt-4">
                <button [disabled]="loading" class="btn btn-lg" 
                        style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border: none; color: white; font-weight: 600; padding: 0.875rem; border-radius: 8px; transition: transform 0.2s, box-shadow 0.2s;"
                        onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 8px 16px rgba(102, 126, 234, 0.4)'"
                        onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
                    @if (loading) {
                        <span class="spinner-border spinner-border-sm me-2"></span>
                    }
                    @if (!loading) {
                        <span>🔑 Reset Password</span>
                    }
                    @if (loading) {
                        <span>Sending...</span>
                    }
                </button>
                <div class="text-center">
                    <a routerLink="../login" class="text-decoration-none" style="color: #667eea; font-weight: 500;">
                        ← Back to Login
                    </a>
                </div>
            </div>
        </form>
    </div>
</div>