@if(visible) {
<div class="fp-overlay">
  <div class="fp-modal">
    <div class="fp-header">
      <h3>Forgot Password</h3>
      <p class="fp-sub">Enter your email and DOB to receive reset instructions</p>
    </div>
    @if (loading) {
    <div class="fp-loading-overlay" aria-hidden="true">
      <div class="fp-spinner" role="status" aria-label="Loading"></div>
    </div>
    }
    <form (ngSubmit)="onSubmit()" #fpForm="ngForm" class="fp-form">

      <label for="email">Email</label>
      <input id="email" name="email" type="email" class="fp-input" [(ngModel)]="model.email" required />

      <label for="dob">Date of birth (DOB)</label>
      <div class="fp-mat">
        <input id="dob" name="dob" type="date" class="fp-input" [(ngModel)]="dobInput" (change)="onDateInputChange()" />
      </div>

      @if (error) {
      <div class="fp-error">{{ error }}</div>
      }

      @if (success) {
      <div class="fp-success">{{ success }}</div>
      }

      <div class="fp-actions">
        <button type="submit" class="btn-primary" [disabled]="!fpForm.form.valid || loading || success">{{ loading ? 'Submitting...' : 'Submit' }}</button>
        <button type="button" class="btn-secondary" (click)="onCancel()">Cancel</button>
      </div>
    </form>
  </div>
</div>
}